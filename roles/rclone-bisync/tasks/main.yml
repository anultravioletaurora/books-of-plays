- name: Debug
  ansible.builtin.debug:
    msg: >-
      Performing bisync on {{ item.remote | regex_replace ('U','\\X') }} 
      and {{ item.target | regex_replace ('U','\\X') }}
  loop: "{{ rclone_bisyncs }}"
  when: (rclone_bisyncs is defined) and (rclone_bisyncs | length > 0)

- name: ðŸ”„ Perform RClone Bisyncs
  ansible.builtin.command: >-
    rclone bisync 
    {{ item.remote | regex_replace ('U','\\X') }} 
    {{ item.target | regex_replace ('U','\\X') }} 
    {{ '--resync' if (item.resync | default(false)) }}
  loop: "{{ rclone_bisyncs }}"
  when: (rclone_bisyncs is defined) and (rclone_bisyncs | length > 0)